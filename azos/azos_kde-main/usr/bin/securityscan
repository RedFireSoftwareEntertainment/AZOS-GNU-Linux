#!/bin/bash

# Licenced under the GNU GPL 3.0
# Part of AZOS GNU/Linux and all legal information from this legal page apply here: https://sites.google.com/view/azosofficialsite/legal

#Custom AZOS GNU/Linux command to scan for rootkits, backdoors and viruses with rkhunter and clamav

clear
echo "Please stay patient! Do not close your terminal window!"
echo "While this command runs, you can keep using your computer as usual.."
sleep 5
clear
echo "Will begin in 7 seconds"
sleep 1
clear
echo "Will begin in 6 seconds"
sleep 1
clear
echo "Will begin in 5 seconds"
sleep 1
clear
echo "Will begin in 4 seconds"
sleep 1
clear
echo "Will begin in 3 seconds"
sleep 1
clear
echo "Will begin in 2 seconds"
sleep 1
clear
echo "Will begin in 1 seconds"
sleep 1
clear
sudo freshclam
sudo systemctl start clamav-daemon.service
clear
echo "" >> /home/$USER/Documents/ScanLog.txt
echo "File automatically generated by AZOS GNU/Linux securityscan command" >> /home/$USER/Documents/ScanLog.txt
echo "" >> /home/$USER/Documents/ScanLog.txt
echo "ClamAV logs" >> /home/$USER/Documents/ScanLog.txt
echo "-----------" >> /home/$USER/Documents/ScanLog.txt
echo "" >> /home/$USER/Documents/ScanLog.txt
sudo clamscan --recursive --infected /home/$USER >> /home/$USER/Documents/ScanLog.txt
echo "" >> /home/$USER/Documents/ScanLog.txt
echo "RKHunter logs" >> /home/$USER/Documents/ScanLog.txt
echo "-------------" >> /home/$USER/Documents/ScanLog.txt
echo "" >> /home/$USER/Documents/ScanLog.txt
sudo rkhunter --check >> /home/$USER/Documents/ScanLog.txt
clear
echo "The full scan log can be found in: /home/$USER/Documents/ScanLog.txt"
exit 
